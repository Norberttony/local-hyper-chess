{"version":3,"file":"pgn-control.js","sourceRoot":"","sources":["../../../graphics/pgn/pgn-control.ts"],"names":[],"mappings":"AACA,6CAA6C;AAE7C,8CAA8C;AAC9C,MAAM,UAAU,sBAAsB,CAAC,IAAiB,EAAE,MAAgB;IACtE,IAAI,WAA0C,CAAC;IAE/C,sFAAsF;IACtF,2CAA2C;IAC3C,IAAI,OAAO,GAAG,GAAG,CAAC;IAClB,IAAI,OAAO,GAAG,GAAG,CAAC;IAClB,IAAI,IAAI,GAAG,OAAO,CAAC;IAEnB,iDAAiD;IACjD,IAAI,QAAQ,GAAG,CAAC,CAAC;IACjB,IAAI,KAAK,GAAG,CAAC,CAAC;IAEd,SAAS,SAAS;QACd,UAAU,EAAE,CAAC;QACb,IAAI,GAAG,OAAO,CAAC;QACf,KAAK,GAAG,CAAC,CAAC;QACV,QAAQ,EAAE,CAAC;IACf,CAAC;IAED,SAAS,QAAQ;QACb,MAAM,EAAE,CAAC;QAET,WAAW,GAAG,UAAU,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;QACzC,IAAI,EAAE,KAAK,IAAI,QAAQ,EAAC,CAAC;YACrB,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE,IAAI,GAAG,GAAG,CAAC,CAAC;YACrC,KAAK,GAAG,CAAC,CAAC;QACd,CAAC;IACL,CAAC;IAED,SAAS,UAAU;QACf,YAAY,CAAC,WAAW,CAAC,CAAC;IAC9B,CAAC;IAED,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC;IAChD,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,UAAU,CAAC,CAAC;IAClD,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;AACnD,CAAC","sourcesContent":["\n// allows the user to scroll through the PGN.\n\n/* mobile user holds down next/back buttons */\nexport function addPointerHoldListener(elem: HTMLElement, action: Function){\n    let holdTimeout: ReturnType<typeof setTimeout>;\n\n    // times in ms, maxTime represents initial wait time for action and minTime represents\n    // the lowest possible wait time for action\n    let maxTime = 400;\n    let minTime = 250;\n    let time = maxTime;\n\n    // go through \"maxTimes\" moves before speeding up\n    let maxTimes = 4;\n    let times = 0;\n\n    function startHold(){\n        cancelHold();\n        time = maxTime;\n        times = 0;\n        pingHold();\n    }\n\n    function pingHold(){\n        action();\n\n        holdTimeout = setTimeout(pingHold, time);\n        if (++times == maxTimes){\n            time = Math.max(minTime, time / 1.2);\n            times = 0;\n        }\n    }\n\n    function cancelHold(){\n        clearTimeout(holdTimeout);\n    }\n\n    elem.addEventListener(\"pointerdown\", startHold);\n    elem.addEventListener(\"pointerleave\", cancelHold);\n    elem.addEventListener(\"pointerup\", cancelHold);\n}\n"]}